{"version":3,"sources":["js/ignoreKeys.js","Banner/MobileNavigation.js","Banner/Navigation.js","js/encryption.js","NewAssignments/DictationOptions.js","NewAssignments/NewAssignmentOptions.js","NewAssignments/CheckForOptions.js","NewAssignments/NewAssignmentForm.js","NewAssignments/NewAssignmentContainer.js","js/queueHelper.js","Assignment/NFInteractive.js","Token/DisplayToken.js","Token/SignAndSubmit.js","Assignment/AssignmentContainer.js","Information/TutorialBanner.js","Information/ContentContainer.js","Information/TutorialContainer.js","Information/content/contentTags.js","Information/content/studentContent.js","Information/content/instructorContent.js","Information/InfoContainer.js","Token/DisplayDecryptedToken.js","Token/TokenChecker.js","App.js","serviceWorker.js","index.js"],"names":["MobileNavigation","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","path","e","setPath","state","active","toggleNav","bind","assertThisInitialized","console","log","setState","react_default","a","createElement","className","onClick","Link","to","mdbreact_esm","icon","size","Component","Navigation","_ref","Banner_MobileNavigation","cryptr","Cryptr","DictationOptions","id","type","defaultValue","min","required","for","NewAssignmentOptions","setType","document","getElementById","value","onChange","handleChange","NewAssignments_DictationOptions","CheckForOptions","NewAssignmentForm","setLink","preventDefault","assignment","answer","playCount","preventPlayback","checked","checkFor","toConsumableArray","getElementsByClassName","map","x","filter","concat","window","location","origin","params","JSON","stringify","encrypted","encrypt","onSubmit","handleSubmit","placeholder","NewAssignments_NewAssignmentOptions","NewAssignments_CheckForOptions","NewAssignmentContainer","link","select","execCommand","href","target","NewAssignments_NewAssignmentForm","readonly","copyText","convertOptions","compact","ignoreComment","generateComparisonQueue","assignmentQueue","answerQueue","queue1","queue2","index","measureQueue","i","length","push","convert","xml2js","outerHTML","ignoreKeys","keyList","_i","ContentNFInteractive","staffCount","errors","currentErrorIndex","assignmentScore","answerScore","currentPlayCount","setAnswer","setStaffCount","setErrors","setScores","increaseErrorIndex","decreaseErrorindex","resetErrorIndex","increaseCurrentPlayCount","NFClient","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","key","err","return","options","width","hieght","viewParams","scale","role","displayMode","playback","height","assignmentScoreCode","parseNFUrl","answerScoreCode","url","splitUrl","split","answerData","errorIndex","measure","Math","floor","selectRange","clearSelection","measureSet","assignmentData","mismatch","traverseMeasureObject","currentKey","arguments","_text","toLowerCase","newKey","comparisonQueue","errorList","compareMeasures","_this2","ScoreView","assignmentFrame","answerFrame","checkWorkButton","playAnswerButton","parser","DOMParser","onload","addEventListener","stopPlayback","getNoteflightXML","data","dataXML","parseFromString","staves","getElementsByTagName","answerMeasureQueue","children","j","disabled","remove","innerHTML","onclick","assignmentXML","measureErrors","deselectMeasures","passedAssignment","parseInt","playFromSelection","innerText","componentSetup","showError","passed","DisplayToken","studentName","tokenData","date","Date","encryptData","SignAndSubmit","signature","setSignature","Token_DisplayToken","AssignmentContainer","search","decrypted","decrypt","parse","match","Redirect","decryptParams","NFInteractive","Token_SignAndSubmit","TutorialBanner","toggleActive","activeState","title","ContentContainer","content","TutorialContainer","Information_TutorialBanner","Information_ContentContainer","paragraph","text","sectionHeading","orderedList","listItems","item","unorderedList","studentContent","instructorContent","InfoContainer","domainName","Information_TutorialContainer","DisplayDecryptedToken","token","error","getDay","getMonth","getDate","getFullYear","getHours","getMinutes","decryptToken","parseDate","TokenChecker","currentToken","setToken","style","margin","minHeight","Token_DisplayDecryptedToken","App","URLSearchParams","get","forceUpdate","BrowserRouter","Banner_Navigation","Assignment_AssignmentContainer","Route","exact","component","Boolean","hostname","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.dfc903af.chunk.js","sourcesContent":["\r\n// a default list of keys in the score objects to ignore when comparing assignment and answer scores\r\n\r\nlet ignoreKeys = {};\r\n\r\n// add new keys as strings to this list below. ignoreKeys object automatically generated\r\nlet keyList = [\r\n    \"cx1\",\r\n    \"cx2\",\r\n    \"cy1\",\r\n    \"cy2\",\r\n    \"ascent\",\r\n    \"direction\",\r\n    \"dx\",\r\n    \"dy\",\r\n    \"endx\",\r\n    \"endx\",\r\n    \"color\",\r\n\r\n    \"performance\",\r\n    \"chordSymbol\",\r\n    \"slur\"\r\n]\r\n\r\nfor(let key of keyList){\r\n    ignoreKeys[key] = true;\r\n};\r\n\r\nexport default ignoreKeys;\r\n\r\n","import React, {Component} from 'react';\r\n\r\nimport {Link} from 'react-router-dom';\r\nimport {MDBIcon} from 'mdbreact';\r\n\r\nclass MobileNavigation extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            active: false\r\n        }\r\n        this.toggleNav = this.toggleNav.bind(this);\r\n    }\r\n\r\n    handleClick = (path) => {\r\n        return (e) => {\r\n            this.props.setPath(path);\r\n        }\r\n    }\r\n\r\n\r\n    toggleNav(){\r\n        console.log(\"CALLED\")\r\n        let active = !this.state.active\r\n        this.setState({active}) \r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <nav className=\"nav-banner nav-mobile\" onClick={this.toggleNav}>\r\n                {\r\n                    this.state.active ? \r\n                        <div>\r\n                            <div className=\"nav-button\">\r\n                                <Link to=\"/\" onClick={this.handleClick(\"/\")}>Information & Tutorials</Link>\r\n                            </div>\r\n                            <hr/>\r\n                            <div className=\"nav-button\">\r\n                                <Link to=\"/new\" onClick={this.handleClick(\"/new\")}>New Assignment</Link>\r\n                            </div>\r\n                            <hr/>\r\n                            <div className=\"nav-button\">\r\n                                <Link to=\"/token-checker\" onClick={this.handleClick(\"/token-checker\")}>Check Token</Link>\r\n                            </div>    \r\n                        </div>\r\n                    :\r\n                    <MDBIcon icon=\"bars\" size=\"2x\" className=\"white-text hamburger-icon\"/>        \r\n\r\n                }\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MobileNavigation;","import React from 'react';\r\n\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport MobileNavigation from './MobileNavigation';\r\n\r\nconst Navigation = ({setPath}) => {\r\n\r\n   const handleClick = (path) => {\r\n        return (e) => {\r\n            setPath(path);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n\r\n            <nav className=\"nav-banner nav-desktop\">\r\n                <div className=\"nav-button\">\r\n                    <Link to=\"/\" onClick={handleClick(\"/\")}>Information & Tutorials</Link>\r\n                </div>\r\n                <div className=\"nav-button\">\r\n                    <Link to=\"/new\" onClick={handleClick(\"/new\")}>New Assignment</Link>\r\n                </div>\r\n                <div className=\"nav-button\">\r\n                    <Link to=\"/token-checker\" onClick={handleClick(\"/token-checker\")}>Check Token</Link>\r\n                </div>\r\n            </nav>\r\n\r\n            <MobileNavigation setPath={setPath} />\r\n    \r\n        </div>\r\n\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Navigation;","import Cryptr from 'cryptr'\r\n\r\nconst cryptr = new Cryptr(\"SECRET\");\r\n\r\nexport default cryptr;","import React from 'react';\r\n\r\nconst DictationOptions = () => {\r\n\r\n    return(\r\n        <div id=\"dictation-options\">\r\n            <label>Play Count (0 = Unlimited)</label><br/>\r\n            <input id=\"play-count\" type=\"number\" defaultValue=\"0\" min=\"0\" required/><br/>\r\n\r\n            <input id=\"prevent-playback\" type=\"checkbox\"/>\r\n            <label for=\"prevent-playback\">Prevent Student Score Playback</label>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default DictationOptions;","import React, {Component} from 'react';\r\n\r\nimport DictationOptions from './DictationOptions';\r\n\r\nclass NewAssignmentOptions extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            type: \"written\"\r\n        }\r\n\r\n        this.setType = this.setType.bind(this);\r\n    }\r\n\r\n    setType(){\r\n        this.setState({\r\n            type: document.getElementById(\"assignment-type\").value\r\n        })\r\n    }\r\n\r\n    handleChange(setType){\r\n        return () => {\r\n            setType()\r\n            console.log(\"called\")\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <label>Assignment Type</label><br/>\r\n                <select id=\"assignment-type\" onChange={this.handleChange(this.setType)}>\r\n                    <option value=\"written\">Written</option>\r\n                    <option value=\"dictation\">Dictation</option>\r\n                </select>\r\n                <br/>\r\n                {\r\n                    this.state.type === \"dictation\"\r\n                    &&\r\n                    <DictationOptions />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewAssignmentOptions;","import React from 'react';\r\n\r\n/* \r\nIMPORTANT:\r\n\r\nAny new options you add here must also be added to the ignoreKeys file\r\nThis is so the comparison method will default to ignoring those items\r\nChecking them here will then switch them off in ignoreKeys, and they will be graded when comparing scores\r\n\r\n*/\r\n\r\nconst CheckForOptions = () => {\r\n\r\n    return(\r\n        <div id=\"check-for-options\">\r\n            <p>\r\n                All assignments are checked for correct pitches and rhythms. \r\n                You can select additional grading criteria from the list below (these will not be checked for by default)\r\n            </p>\r\n            <input id=\"slurs\" value=\"slur\" className=\"check-for\" type=\"checkbox\" />\r\n            <label for=\"slurs\" >Slurs/Phrase Marks</label><br/>\r\n            \r\n            <input id=\"rna\" value=\"chordSymbol\" className=\"check-for\" type=\"checkbox\" />\r\n            <label for=\"rna\">Roman Numeral & Chord Analysis</label><br/>\r\n            \r\n            <input id=\"text\" value=\"performance\" className=\"check-for\" type=\"checkbox\" />\r\n            <label for=\"text\">Other Text</label>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CheckForOptions;","import React, {Component} from 'react';\r\n\r\nimport cryptr from '../js/encryption';\r\n\r\nimport NewAssignmentOptions from './NewAssignmentOptions';\r\nimport CheckForOptions from './CheckForOptions';\r\n\r\nclass NewAssignmentForm extends Component {\r\n\r\n\r\n    handleSubmit(setLink){\r\n        return (e) => {\r\n            e.preventDefault();\r\n\r\n            const assignment = document.getElementById(\"assignment\").value;\r\n            const answer = document.getElementById(\"answer\").value;\r\n            const type = document.getElementById(\"assignment-type\").value\r\n            \r\n            const playCount = type === \"dictation\" ? document.getElementById(\"play-count\").value : null;\r\n            const preventPlayback = type === \"dictation\" ? document.getElementById(\"prevent-playback\").checked : null;\r\n\r\n            const checkFor = [...document.getElementsByClassName(\"check-for\")].map(x => {\r\n                if(x.checked){\r\n                    return x.value\r\n                } else {\r\n                    return null\r\n                }\r\n            }).filter(x => {if(x) return x})\r\n\r\n            let path = `${window.location.origin}?assignment=`\r\n            let params = JSON.stringify({assignment, answer, type, playCount, preventPlayback, checkFor})\r\n            \r\n            let encrypted = cryptr.encrypt(params);\r\n\r\n            setLink(path + encrypted)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            \r\n            <form id=\"new-assignment-form\" onSubmit={this.handleSubmit(this.props.setLink)}>\r\n                <div className=\"assignment-form-section\">\r\n                    <h2 className=\"new-assignment-section-heading\">Score URLs</h2>\r\n                    <label>Assignment Score*</label><br/>\r\n                    <input id=\"assignment\" type=\"text\" placeholder=\"Noteflight URL\" required/><br/>\r\n                    \r\n                    <label>Answer Score*</label><br/>\r\n                    <input id=\"answer\" type=\"text\" placeholder=\"Noteflight URL\" required/><br/>\r\n                </div>\r\n\r\n                <div className=\"assignment-form-section\">\r\n                    <h2 className=\"new-assignment-section-heading\">Assingnment Options</h2>\r\n                    <NewAssignmentOptions />\r\n                </div>\r\n\r\n                <div className=\"assignment-form-section\">\r\n                    <h2 className=\"new-assignment-section-heading\">Grading Options</h2>\r\n                    <CheckForOptions />\r\n                </div>\r\n\r\n                <p>(* indicates a required field)</p>\r\n                <input type=\"submit\" value=\"Generate Assignment Link\" />\r\n            </form>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default NewAssignmentForm;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nimport NewAssignmentForm from './NewAssignmentForm';\r\n\r\nclass NewAssignmentContainer extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: null\r\n        }\r\n\r\n        this.setLink = this.setLink.bind(this);\r\n    }\r\n\r\n    setLink(link){\r\n        console.log(\"called\")\r\n        this.setState({link});\r\n    }\r\n\r\n    copyText(e){\r\n        const text = document.getElementById(\"copy-link\");\r\n        debugger\r\n        text.select();\r\n        document.execCommand(\"copy\");\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"new-assignment-container\">\r\n            <section className=\"instructions text-box\">\r\n                <h2>Create a new assignment</h2>\r\n                <p>\r\n                    Welcome to the assignment creator! To make a new assignment, you will need two URLs: One to your assignment score that you created in <a className=\"in-text-link\" href=\"https://www.noteflight.com\" target=\"_blank\">Noteflight</a> (the one people will interact with), and an answer template score. \r\n                    Your answer score should be the same as the assignment score, but with all the answers marked exactly as you would like them in the assignment.\r\n                    Make sure both scores are shared on Noteflight with all users, a specific user, or a specific group, and that \"Let people copy & export this score\" is checked.\r\n                </p>\r\n                <p>\r\n                    See the {/* <Link to=\"/\" className=\"in-text-link\"> */}tutorials{/* </Link> */} for more information on how to setup your scores.\r\n                </p>\r\n            </section>\r\n                <NewAssignmentForm setLink={this.setLink}/>\r\n                {this.state.link \r\n                && \r\n                <div>\r\n                    <p>Share the link below to give students and other users access to your assignment</p>\r\n                    <textarea id=\"copy-link\" value={this.state.link} readonly=\"true\"></textarea>\r\n                    <button className=\"copy-text-button\" onClick={this.copyText}>Copy to Clipboard</button>\r\n                    <br/>\r\n                    <a href={this.state.link} target=\"_blank\">See Your Assignment</a>\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewAssignmentContainer","\r\nimport convert from 'xml-js';\r\n\r\nconst convertOptions = {compact: true, ignoreComment: true}\r\n\r\nconst queueElementToObject = (queue1, queue2, index) => {\r\n    const obj1 = convert.xml2js(queue1[index].outerHTML, convertOptions)\r\n    const obj2 = convert.xml2js(queue2[index].outerHTML, convertOptions)\r\n    return [obj1, obj2]\r\n}\r\n\r\nconst generateComparisonQueue = (assignmentQueue, answerQueue) => {\r\n    let measureQueue = []\r\n    for(let i = 0; i < answerQueue.length; i++){\r\n        measureQueue.push(queueElementToObject(assignmentQueue, answerQueue, i))\r\n    }\r\n    return measureQueue\r\n}\r\n\r\nexport default generateComparisonQueue;","import React, {Component} from 'react';\r\nimport {MDBIcon} from 'mdbreact'\r\n\r\nimport convert from 'xml-js';\r\nimport generateComparisonQueue from '../js/queueHelper';\r\nimport ignoreKeys from '../js/ignoreKeys';\r\n\r\n// import parseOptionsString from '../../js/parseOptionsString';\r\n\r\nclass ContentNFInteractive extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            answer: null, \r\n            staffCount: 0,\r\n            errors: [],\r\n            currentErrorIndex: 0,\r\n            assignmentScore: null,\r\n            answerScore: null,\r\n            currentPlayCount: 0,\r\n        };\r\n        this.setAnswer = this.setAnswer.bind(this);\r\n        this.setStaffCount = this.setStaffCount.bind(this);\r\n        this.setErrors = this.setErrors.bind(this);\r\n        this.setScores = this.setScores.bind(this);\r\n        this.increaseErrorIndex = this.increaseErrorIndex.bind(this);\r\n        this.decreaseErrorindex = this.decreaseErrorindex.bind(this);\r\n        this.resetErrorIndex = this.resetErrorIndex.bind(this);\r\n        this.increaseCurrentPlayCount = this.increaseCurrentPlayCount.bind(this);\r\n    }\r\n\r\n    componentSetup(){\r\n        const {params} = this.props\r\n        this.params = params\r\n        console.log(params)\r\n        this.assignmentScore = params.assignment;\r\n        this.answerScore = params.answer;\r\n\r\n        this.NFClient = window.NFClient;\r\n\r\n        for(let key of params.checkFor){\r\n            ignoreKeys[key] = false;\r\n        }\r\n\r\n        this.options = {};\r\n\r\n        this.options.assignment = {\r\n            width: \"100%\",\r\n            hieght: \"100%\",\r\n            viewParams: {\r\n                scale: 1.5,\r\n                role: \"template\",\r\n                displayMode: \"paginated\",\r\n                playback: !params.preventPlayback ? \"normal\" : \"silent\"\r\n            }\r\n        }\r\n        \r\n        this.options.answer = {\r\n            height: 1,\r\n            width: 1,\r\n            viewParams: {\r\n                scale: 0.1,\r\n                role: \"reader\",\r\n                displayMode: \"paginated\",\r\n            }\r\n        }\r\n\r\n        this.assignmentScoreCode = this.parseNFUrl(params.assignment)\r\n        this.answerScoreCode = this.parseNFUrl(params.answer)\r\n    }\r\n\r\n    parseNFUrl(url){\r\n        let splitUrl = url.split(\"/\")\r\n        return splitUrl[splitUrl.length - 1];\r\n    }\r\n\r\n    setAnswer(answerData){\r\n        this.setState({\r\n            answerData\r\n        })\r\n    }\r\n\r\n    setStaffCount(staffCount){\r\n        this.setState({staffCount})\r\n    }\r\n\r\n    setErrors(errors){\r\n        this.setState({errors})\r\n    }\r\n\r\n    setScores(assignmentScore, answerScore){\r\n        this.setState({\r\n            assignmentScore,\r\n            answerScore\r\n        })\r\n    }\r\n\r\n    increaseErrorIndex(){\r\n        let {currentErrorIndex} = this.state\r\n        if(currentErrorIndex + 1 < this.state.errors.length){\r\n            currentErrorIndex++\r\n        }\r\n        this.setState({currentErrorIndex})\r\n    }\r\n\r\n    decreaseErrorindex(){\r\n        let {currentErrorIndex} = this.state;\r\n        if(currentErrorIndex - 1 >= 0){\r\n            currentErrorIndex--;\r\n        }\r\n        this.setState({currentErrorIndex});\r\n    }\r\n\r\n    resetErrorIndex(){\r\n        this.setState({currentErrorIndex: 0});\r\n    }\r\n\r\n    increaseCurrentPlayCount(){\r\n        let {currentPlayCount} = this.state;\r\n        currentPlayCount++\r\n        this.setState({currentPlayCount})\r\n        return currentPlayCount;\r\n    }\r\n\r\n    showError(index){\r\n\r\n        let errorIndex = this.state.errors[index]\r\n        let measure = (Math.floor(errorIndex / this.state.staffCount))\r\n        \r\n        this.state.assignmentScore.selectRange(\r\n            measure, // start of measure\r\n            0, // start offset \r\n            measure, // start of measure again\r\n            100, // the offset (set to a high number to almost guarantee it selects the whole measure)\r\n            [errorIndex % this.state.staffCount] // staff\r\n        )        \r\n    }\r\n\r\n    deselectMeasures(){\r\n        this.state.assignmentScore.clearSelection()\r\n    }\r\n\r\n    //   NF-XML\r\n    compareMeasures(measureSet){\r\n        let assignmentData = measureSet[0];\r\n        let answerData = measureSet[1];\r\n\r\n        let mismatch = false\r\n\r\n        const traverseMeasureObject = (assignment, answer, currentKey = \"measure\") => {            \r\n            // if the assignment does not even have the currentKey, return an error\r\n            if(!assignment[currentKey]){\r\n                mismatch = true;\r\n                return\r\n            }\r\n            \r\n            // if the assignment and answer are themselves a value (not a new key), but they do not match\r\n            // return an error\r\n            if(typeof answer !== 'object'){\r\n                if(assignment !== answer){\r\n                    mismatch = true;\r\n                    return\r\n                } else {\r\n                    return\r\n                }\r\n            }\r\n            \r\n            // If the currentKey is specifically \"chord\", then we need to check for capitalization (direct match)\r\n            // other text elements are handled below. \r\n            if(currentKey === \"chord\"){\r\n                if(assignment[currentKey]._text !== answer[currentKey]._text){\r\n                    mismatch = true;\r\n                    return\r\n                } else {\r\n                    return\r\n                }\r\n            }\r\n\r\n            // if both have a value at the currentKey (that value will be a string in this XML to JS conversion)\r\n            // but they don't match (we check lowerCase here because for anything except chords we don't care about case)\r\n            // return an error\r\n            if(typeof answer[currentKey] === 'string'){\r\n                if(!assignment || answer[currentKey].toLowerCase() !== assignment[currentKey].toLowerCase()){\r\n                    mismatch = true;\r\n                    return\r\n                } else {\r\n                    return\r\n                }\r\n            }\r\n\r\n            for(let newKey in answer[currentKey]){\r\n                if(ignoreKeys[newKey]) continue\r\n                // console.log(newKey)\r\n                if(assignment && answer){\r\n                    traverseMeasureObject(assignment[currentKey], answer[currentKey], newKey)\r\n                }\r\n            }\r\n        }\r\n\r\n        traverseMeasureObject(assignmentData, answerData)\r\n        return mismatch\r\n    }\r\n\r\n    measureErrors(assignmentQueue, answerQueue){\r\n        let comparisonQueue = generateComparisonQueue(assignmentQueue, answerQueue);\r\n        let errorList = []\r\n        for(let i = 0; i < comparisonQueue.length; i++){\r\n            let error = this.compareMeasures(comparisonQueue[i]);\r\n            if(error) errorList.push(i)\r\n        }\r\n        // a set of measures in order where an error occured\r\n        return errorList;\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        // create the assignment and answer score iframes via the noteflight api\r\n        const assignment = new this.NFClient.ScoreView(this.assignmentScoreCode, this.assignmentScoreCode, this.options.assignment);\r\n        const answer = new this.NFClient.ScoreView(this.answerScoreCode, this.answerScoreCode, this.options.answer);\r\n        this.setScores(assignment, answer);\r\n        // get the newly created iframe objects for later use\r\n        const assignmentFrame = document.getElementById(this.assignmentScoreCode);\r\n        const answerFrame = document.getElementById(this.answerScoreCode);\r\n\r\n        // interactive buttons\r\n        const checkWorkButton = document.getElementById('check-work');\r\n        const playAnswerButton = document.getElementById('play-answer');\r\n      \r\n        const activateButtons = () => {\r\n            document.getElementById(\"reload-warning\").remove()\r\n            checkWorkButton.innerHTML = \"Check Your Work\"\r\n            checkWorkButton.disabled = false;\r\n            if(playAnswerButton){\r\n                playAnswerButton.innerHTML = \"Play Dictation Excerpt\";\r\n                playAnswerButton.disabled = false;\r\n            }\r\n        }\r\n        \r\n        // add class names here\r\n        assignmentFrame.className = \"score-container nf-assignment-score nf-interactive\"\r\n        answerFrame.className = \"score-container nf-answer-score nf-interactive\"\r\n        \r\n        // declar a new DOMParser to use to check assignment vs answer scores\r\n        let parser = new DOMParser();\r\n\r\n        // using the iframe objects from earlier, set their onload method to get the score data from each individual score\r\n        assignmentFrame.onload = () => {\r\n            console.log(\"assignment Loaded\")\r\n            assignment.addEventListener(\"scoreDataLoaded\", () => {\r\n                console.log(\"ASSIGNMENT FRAME READY FOR INTERACTION\")\r\n            })\r\n            // if preventPlayback is set:\r\n            // when a playback request is received, immediately call stop playback\r\n            if(this.params.preventPlayback){\r\n                assignment.addEventListener(\"playbackRequest\", () => {\r\n                    assignment.stopPlayback();\r\n                })\r\n            }\r\n        }\r\n        \r\n        // ANSWER: When answer data loads, get and parse its NFXML and store it in the component state\r\n        answerFrame.onload = () => {\r\n            console.log(\"Answer Loaded\")\r\n            answer.addEventListener(\"scoreDataLoaded\", () => {\r\n                // if detailed grading method, load score data as musicXML (checks for perfect match)\r\n                answer.getNoteflightXML().done(data => {\r\n                    let dataXML = parser.parseFromString(data, \"text/xml\");\r\n                    let staves = [...dataXML.getElementsByTagName(\"staff\")].filter((x, i) => i > 0)\r\n                    \r\n                    this.setStaffCount(staves.length);\r\n\r\n                    let answerMeasureQueue = []; // generates an array where measures are queued in the correct order (top down each system)\r\n                    for(let i = 0; i < staves[0].children.length; i++){\r\n                        for(let j = 0; j < staves.length; j++){\r\n                            answerMeasureQueue.push(staves[j].children[i])\r\n                        }\r\n                    }\r\n\r\n                    this.setAnswer(answerMeasureQueue)\r\n                    checkWorkButton.disabled = false;\r\n                    activateButtons();\r\n                    // delete answer iframe after its data has been saved to the component state?\r\n                })\r\n            })\r\n        }\r\n\r\n        // get the button element that the user presses to check their work\r\n        // when clicked, it should check the current assignment score data against the stored answer score data\r\n        checkWorkButton.onclick = (e) => {\r\n\r\n            assignment.getNoteflightXML().done(data => {\r\n                let assignmentXML = parser.parseFromString(data, \"text/xml\");\r\n                let staves = [...assignmentXML.getElementsByTagName(\"staff\")].filter((x, i) => i > 0)\r\n                \r\n                let measureQueue = []; // generates an array where measures are queued in the correct order (top down each system)\r\n                for(let i = 0; i < staves[0].children.length; i++){\r\n                    for(let j = 0; j < staves.length; j++){\r\n                        measureQueue.push(staves[j].children[i])\r\n                    }\r\n                }\r\n\r\n                let errors = this.measureErrors(measureQueue, this.state.answerData, parser)\r\n                this.resetErrorIndex()\r\n                this.setErrors(errors);\r\n                \r\n                if(!errors.length){\r\n                    assignmentFrame.className = \"score-container nf-assignment-score nf-interactive assignment-score-passed\"\r\n                    this.deselectMeasures()\r\n                    this.props.passedAssignment();\r\n                }\r\n            })\r\n        }\r\n\r\n        // If assingmentType is a dictation, we need to allow for the user to play the dictation example\r\n        if(this.params.type === \"dictation\"){\r\n            playAnswerButton.onclick = (e) => {\r\n                \r\n                if(this.state.currentPlayCount < parseInt(this.params.playCount) || this.params.playCount === \"0\"){\r\n                    answer.playFromSelection(0);\r\n\r\n                    let newPlayCount = this.state.currentPlayCount + 1;\r\n                    if(newPlayCount === parseInt(this.params.playCount)){\r\n                        e.target.innerText = \"No Plays Remaining\"\r\n                        e.target.disabled = true;\r\n                    }\r\n\r\n                    this.increaseCurrentPlayCount();\r\n                } \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        // calling the constructor in the render method allows us to reset the variables designated in the original constructor call \r\n        // this way when anything is that would effect the component, we can update just those parts without having to remount the entire component.\r\n        // this.constructor(this.props, this.state)\r\n        this.componentSetup();\r\n\r\n        if(this.state.errors.length){\r\n            this.showError(this.state.currentErrorIndex)\r\n        }\r\n\r\n        return (\r\n            <div id=\"nf-interactive\">\r\n                {\r\n                    this.params.type === \"dictation\" \r\n                    &&\r\n                    <div>\r\n                        <button id={`play-answer`} disabled>Loading Dictation...</button>\r\n                        <p>Plays Remaining: {this.params.playCount === \"0\" \r\n                        ? \r\n                        \"Unlimited\" : parseInt(this.params.playCount) - this.state.currentPlayCount}</p>\r\n                    </div>\r\n\r\n                }\r\n                <br/>\r\n                {/* this div element below will be replaceed by a noteflight embeded score */}\r\n                <div id={this.assignmentScoreCode}></div>\r\n                <div id={this.answerScoreCode}></div>\r\n                <br/>\r\n                <p id=\"reload-warning\"><em>If the button below is stuck on \"Loading Assignment...\", try refreshing the page. You may need to refresh a few time before the score loads correctly.</em></p>\r\n                {\r\n                    !this.props.passed\r\n                    &&\r\n                    <button id='check-work' disabled>Loading assignment...</button>\r\n                }\r\n                {\r\n                    this.state.errors.length > 0\r\n                    &&\r\n                    <div id=\"error-navigation-buttons\" className=\"section-box\">\r\n                        \r\n                        <h2>Errors</h2>\r\n                        <p>\r\n                            Use the buttons below to navigate through the marked errors on the score.\r\n                            Make sure to press the \"Check Your Work\" button to recheck for errors.\r\n                        </p>\r\n                        <button onClick={this.decreaseErrorindex}><MDBIcon icon=\"arrow-left\"/> Previous Error </button>\r\n                        <button onClick={this.increaseErrorIndex}>Next Error <MDBIcon icon=\"arrow-right\"/></button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n} \r\n    \r\n    \r\n\r\n\r\nexport default ContentNFInteractive;","import React, {Component} from 'react'\r\n\r\nimport cryptr from '../js/encryption';\r\n\r\nclass DisplayToken extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.studentName = props.studentName;\r\n        this.answer = props.answer\r\n    }\r\n\r\n    encryptData(studentName, answer){\r\n        let tokenData = {\r\n            studentName,\r\n            answer,\r\n            date: new Date()\r\n        }\r\n        console.log(tokenData);\r\n        return cryptr.encrypt(JSON.stringify(tokenData));\r\n    }\r\n\r\n    copyText(e){\r\n        const text = document.getElementById(\"encrypted-token\");\r\n        text.select();\r\n        document.execCommand(\"copy\");\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"encrypted-token\">\r\n                <p>\r\n                    The token below may serve as proof of completion for this assignment.\r\n                </p>\r\n                <textarea id=\"encrypted-token\" value={this.encryptData(this.studentName, this.answer)}></textarea>\r\n                <button onClick={this.copyText}>Copy to Clipboard</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DisplayToken;","import React, {Component} from 'react';\r\nimport DisplayToken from './DisplayToken';\r\n\r\nclass SignAndSubmit extends Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            signature: null\r\n        }\r\n        this.setSignature = this.setSignature.bind(this);\r\n    }\r\n\r\n    setSignature(signature){\r\n        this.setState({signature});\r\n    }\r\n\r\n    handleSubmit(setSignature){\r\n        return (e) => {\r\n            e.preventDefault();\r\n            const signature = document.getElementById(\"name\").value;\r\n            setSignature(signature);\r\n        }\r\n    }\r\n\r\n    encryptToken(data){\r\n\r\n    }\r\n\r\n    render(){\r\n        \r\n        return(\r\n            <div id=\"submit-assignment\" className=\"section-box\">\r\n                {\r\n                    !this.state.signature\r\n                    &&\r\n                    <form id=\"sign-and-submit-form\" onSubmit={this.handleSubmit(this.setSignature)}>\r\n                        <h2>Congratulations! You passed!</h2>\r\n                        <p>\r\n                            If you completed this assignment as part of a class, sign your name below and submit.\r\n                            A unique token will be generated for you to use as proof of completion.\r\n                        </p>\r\n                        <label for=\"name\">Your Name</label><br/>\r\n                        <input type=\"text\" id=\"name\" /><br/>\r\n    \r\n                        <input type=\"submit\" value=\"Sign & Submit\" />\r\n                    </form>\r\n                }\r\n\r\n                {\r\n                    !!this.state.signature\r\n                    &&\r\n                    <DisplayToken studentName={this.state.signature} answer={this.props.answer}/>\r\n                }\r\n\r\n            </div>\r\n        )               \r\n    }\r\n}\r\n\r\nexport default SignAndSubmit;","import React, {Component} from \"react\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport {MDBIcon} from 'mdbreact';\r\n\r\nimport cryptr from '../js/encryption';\r\n\r\nimport NFInteractive from './NFInteractive';\r\nimport SignAndSubmit from \"../Token/SignAndSubmit\";\r\n\r\nclass AssignmentContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            passed: false\r\n        }\r\n        this.passedAssignment = this.passedAssignment.bind(this);\r\n    }\r\n\r\n    passedAssignment(){\r\n        this.setState({passed: true})\r\n    }\r\n\r\n    decryptParams(){\r\n        const params = window.location.search.split(\"assignment=\")[1]\r\n        const decrypted = cryptr.decrypt(params);\r\n        return JSON.parse(decrypted);\r\n    }\r\n\r\n    render(){\r\n        if(!window.location.search.match(\"assignment\")){\r\n            let path = window.location.href.split(\"/\")\r\n            path = path[path.length - 1];\r\n            return <Redirect to={`/${path}`} />\r\n        }\r\n        const params = this.decryptParams();\r\n        console.log(\"ASSIGNMENT-PARAMS: \", params)\r\n        return(\r\n            <section className=\"text-box\">\r\n                <h2>Interactive Assignment</h2>\r\n                <p>This is an interactive assignment created on {window.location.origin.split(\"//\")[1]}. All assignments are self-grading.</p>\r\n                <p>At any time, you can check your work by pressing the \"Check Your Work\" button below the assignment. If there are any errors, they will be highlighted on the score. In the case of multiple erros, you can step through each error with arrow buttons that will appear below the assignment to see what you got right, and what you got wrong.</p>\r\n                <p>If the assingment is a dictation, you will also be allowed to play the dictation via the \"Play Dictation Excerpt\" button above the assingment. Depending on how the assignment was created, you may have a limited number of playings available. Your remaining playings will also appear above the assingment.</p>\r\n                <p>All assignments are built using the Noteflight music notation application. For information on how to interact with the Noteflight score, see <a href=\"https://www.noteflight.com/guide\" target=\"_blank\">this link</a></p>\r\n\r\n                <div id=\"assignment-container\">\r\n                    <NFInteractive params={params} passed={this.state.passed} passedAssignment={this.passedAssignment} />\r\n\r\n                    {\r\n                        this.state.passed\r\n                        &&\r\n                        <SignAndSubmit answer={params.answer}/>\r\n                    }\r\n                </div>\r\n            </section>\r\n            \r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default AssignmentContainer;","import React, {Component} from 'react';\r\n\r\nclass TutorialBanner extends Component {\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"tutorial-banner\" onClick={this.props.toggleActive}>\r\n                <div className=\"tutorial-banner-element tutorial-active-indicator\">\r\n                    <h1>{this.props.activeState ? \"-\" : \"+\"}</h1>    \r\n                </div>\r\n                <div className=\"tutorial-banner-title tutorial-banner-element\">\r\n                    <h1>{this.props.title}</h1>\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TutorialBanner;","import React, {Component} from \"react\";\r\n\r\nclass ContentContainer extends Component {\r\n\r\n    render(){\r\n        const {content} = this.props\r\n        return(\r\n            <div className=\"content-container\">\r\n                {content.data}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ContentContainer;","import React, {Component} from 'react';\r\n\r\nimport TutorialBanner from './TutorialBanner';\r\nimport ContentContainer from './ContentContainer';\r\n\r\n\r\nclass TutorialContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: false\r\n        }\r\n\r\n        this.toggleActive = this.toggleActive.bind(this);\r\n    }\r\n\r\n    toggleActive(){\r\n        let active = !this.state.active\r\n        this.setState({active});\r\n    }\r\n\r\n\r\n    tutorialSectionClick(e){\r\n        let children = e.target.children\r\n        console.log(children)\r\n    }\r\n\r\n    render(){\r\n        const {content} = this.props\r\n\r\n        return(\r\n            <div className=\"tutorial-container\">\r\n                <TutorialBanner title={content.title} activeState={this.state.active} toggleActive={this.toggleActive} />\r\n                {\r\n                    this.state.active \r\n                    &&\r\n                    <ContentContainer content={content}/>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TutorialContainer;","\r\nimport React from 'react'\r\n\r\nexport function paragraph(text){\r\n    return <p>{text}</p>\r\n}\r\n\r\nexport function sectionHeading(text){\r\n    return (\r\n        <div className=\"heading-container\">\r\n            <h2>{text}</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function orderedList(listItems){\r\n    return(\r\n        <ol>\r\n            {listItems.map(item => <li>{item}</li>)}\r\n        </ol>\r\n    )\r\n}\r\n\r\nexport function unorderedList(listItems){\r\n    return(\r\n        <ul>\r\n            {listItems.map(item => <li>{item}</li>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport function link(text, url){\r\n    return <div><a href={url} target=\"_blank\">{text}</a></div>\r\n}\r\n\r\nexport function embededVideo(vidCode){\r\n    return(\r\n        <iframe className=\"embeded-video\" src={`https://www.youtube.com/embed/${vidCode}`} style={{display: \"block\"}} width=\"560\" height=\"315\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {\r\n    paragraph, \r\n    sectionHeading, \r\n    orderedList,\r\n    link,\r\n    // embededVideo,\r\n} from './contentTags'\r\n\r\nconst studentContent = {\r\n    title: \"Student Tutorials\",\r\n    data: [\r\n\r\n        sectionHeading(\"Introduction\"),\r\n        paragraph(\"If you received or found a link to an assignment on this site, welcome! The following tutorials well help you by:\"),\r\n        orderedList([\r\n            \"Showing how to interact with written and dictation assignments\", \r\n            \"Explaining how assignment are graded, and how incorrect errors are displayed\",\r\n            \"Showing how to generate a unique token as proof of completion\",\r\n            \"showing how to view the answer key to an assignment after it has been completed\"\r\n        ]),\r\n        paragraph(\"Note: Assignments are built using Noteflight scores. If you are not familiar with the Noteflight platform, I suggest that you visit the link below for tutorials on how to use their product.\"),\r\n        link(\"Noteflight User Guide\", \"https://www.noteflight.com/guide\"),\r\n        \r\n        sectionHeading(\"Interacting With Assignments\"),\r\n        paragraph('For both written and dictation assignments, you can check your work at any time by pressing the \"Check My Work\" button below the score. If everything matches the answer template, you will be allowed to sign and submit your assignment. Otherwise, any incorrect answers will be shown on the score. '),\r\n        paragraph('For dictation assignments, you can also play the dictation excerpt by pressing the \"Play Dictation\" button above the score. Depening on how the assignment was setup, you may have a limited number of playings available on any single attempt.'),\r\n        paragraph(\"NOTE: Interacting with assignments only works after they have been propery loaded from the noteflight server. Occasionally, there may be an issue connecting to the server, and neither of the previously mentioend buttons will do anything. If this is the case, simple refresh the page, and it should work after a few attempts.\"),\r\n        // embededVideo(\"HaBQfSAVt0s\"),\r\n\r\n        sectionHeading(\"Assignment Grading & Error Display\"),\r\n        paragraph(\"All assignments are checked for correct notes and rhythms, plus any additional grading criteria that the assignment designer may have set.\"),\r\n        paragraph('When you check your work, the program checks each measure individually against the answer template. If anything is found to be a mismatch, then the measure will be highlighted to indicate that there is an error.'),\r\n        paragraph('If the assignment requires a chord/roman numeral analysis, upper case vs lower case letters will matter. Other text, like that which you might find above the staff, are not graded for case.'),\r\n        paragraph('If there are errors when the assignment is graded, you can visually step through each measure to see where your errors are. As you step through the errors, you can see what you got right, what you got wrong, and make adjustments as needed.'),\r\n        // embededVideo(\"Da8-QfGemgo\"),\r\n\r\n        sectionHeading(\"Signing & Submitting Your Work\"),\r\n        paragraph(\"If you are doing an assignment for a course, and need proof that you completed it, the application can generate a unique token for you that your instructor can later authenticate. Once an assignment has been completed, and there are no errors, you will be allowed to sign your name and submit. Upon submitting, a token, unique to your signature and time the assignment was completed, will be generated. You can then copy this token and provide it as proof to any instructor that you completed the assignment. They can then verify the token to ensure its authenticity.\"),\r\n        paragraph(\"NOTE: Even if you are not completing the assignment for part of a course, you may still wish to generate a token and save it for later. This token will also allow you to view the answer template at a later date, without having to redo the assignment.\"),\r\n        // embededVideo(\"nsnyl8llfH4\"),\r\n\r\n        sectionHeading(\"Viewing the Answer Key After Completion\"),\r\n        paragraph(\"After you have completed an assignment, signed your name, and generated a unique token, you can view the answer key. This is particularly helpful if you want to review the answers later to help you study.\"),\r\n        paragraph('In the navigation menu of this site, go to the tab titled \"Check Token\". Here, you will be able to paste your token to authenticate it. Once authenticated, there will be an option to \"View Answers\". Click this link, and you will be taken to the answer template for the assignment.'),\r\n        // embededVideo(\"OFt3SThGi7M\"),\r\n    ],\r\n\r\n}\r\n\r\nexport default studentContent;","import React from 'react';\r\nimport {\r\n    paragraph, \r\n    sectionHeading, \r\n    orderedList,\r\n    unorderedList,\r\n    link,\r\n    // embededVideo,\r\n} from './contentTags'\r\n\r\nconst instructorContent = {\r\n    title: \"Instructor Tutorials\",\r\n    data: [\r\n        sectionHeading(\"Introduction\"),\r\n        paragraph(\"These tutorials will help instructors learn how to create and share assignments. They will cover:\"),\r\n        orderedList([\r\n            \"Creating basic written and dictation assignments\",\r\n            \"Configuring your scores on Noteflight to allow auto-grading\",\r\n            \"Optimizing your Noteflight scores for easy grading\",\r\n            \"Additional grading configurations\",\r\n            \"Editing assignments after they have been created\",\r\n            \"Suggested Practices for creating assignments on Noteflight\",\r\n        ]),\r\n        paragraph(\"Note: Assignments are built using Noteflight scores. If you are not familiar with the Noteflight platform, I suggest that you visit the link below for tutorials on how to use their product.\"),\r\n        link(\"Noteflight User Guide\", \"https://www.noteflight.com/guide\"),\r\n\r\n        sectionHeading(\"Creating Assignments\"),\r\n        paragraph(\"To create a new assignment, go to the new assignment tab in the navigation at the top of the site. There, you will be presented with a number of options for how to configure your assignment.\"),\r\n        paragraph(\"There are two required entries: both URLs linking to scores on Noteflight. The assignment score should be the score that displays to the user, without any of the answers marked. The answer score should be a copy of the assignment score, but with all the answers marked exactly as you would like them to be graded.\"),\r\n        paragraph('Additionally, you may choose between \"Written\" and \"Dictation\" assignments. There is no difference in how the two are graded, but a \"Dictation\" assignment will allow users to play audio from the answer score, and a \"Written\" assignment will not. There are also a few other available options for dictations, such as setting a maximum play count, and disabling audio playback from the user score.'),\r\n        // embededVideo(\"naE7fK-gCPs\"),\r\n\r\n        sectionHeading(\"Configuring Scores on Noteflight\"),\r\n        paragraph(\"In order for users to be able to view the scores in your assignments, and for the auto-grading to work, you must share your scores on Noteflight correctly.\"),\r\n        paragraph('Once your assignment and answer scores are set to your liking, you need to share them with individual people, groups, or all users. To do this, go to \"Score Details\" in the upper right hand corner of the screen, and then to the \"Share\" menu. If you intend for your assignment to only be viewed by a few people, you can choose to share your score with them directly, or with a group they are in. If you want you assignment to be usable by anyone, you should set sharing privileges to \"Everyone\".'),\r\n        paragraph('To enable auto grading, you must also check the box in the share settings labled \"Let people copy & export this score\" at the bottom of the share window.'),\r\n        // embededVideo(\"d92ZQmSOWGE\"),\r\n        \r\n        sectionHeading(\"Additional Grading Options\"),\r\n        paragraph(\"You can optionally specify other musical elements that you want the program to grade. None of these elements are graded by default. These elements are detaild below:\"),\r\n        unorderedList([\r\n            \"Slurs & Phrase Marks: this checks slur marks between two notes. It does not check the exact positioning of the slurs, but only that they start and end on the correct notes.\",\r\n            'Roman Numeral & Chord Analysis: This will check for any text made with the \"Chord\" text tool. For these, upper vs lower case does matter, and an answer will read as incorrect if it does not match the exact capitalization.',\r\n            'Other Text: This would be anything created with the \"Text\" tool. For this, spelling will matter, but capitalization will not. This is best used for simple text answers, like indicating intervals, cadence types, etc.',\r\n        ]),\r\n\r\n        sectionHeading(\"Editing Assignments After They Have Been Created\"),\r\n        paragraph(\"This program does not save any information you enter when you create an assignment. Rather, the link that is generated when you create your assignment contains everytning needed to recreate it when a user follows that link. While this allows for an unlimited number of assignments, you cannot edit any assignment parameters after you generate a link because any edits to the parameters would cause the link to change.\"),\r\n        paragraph(\"However, you can still edit the assignment and answer scores on Noteflight, and those changes will be reflected in you assignment. So if you want to add a few more examples, or change the answer to an existing example, you can do this on Noteflight in the linked scores.\"),\r\n\r\n        sectionHeading(\"Suggested Practices for Creating Assignment Scores\"),\r\n        paragraph(\"When creating your assignments, it is important to keep in mind that users must know exactly what to enter and where to enter it in order to pass the assignment. Therefore, I recommend the following as general guidlines for creating well structured music assignments:\"),\r\n        unorderedList([\r\n            \"Include written instructions when able, either in the document that links to the assignment, or the assignment itself.\",\r\n            \"Use colors to highlight where users should place their answers. As an example, if they need to add notes, highlight the rests where their notes should go. If they need to add text, create a text object where you would like it, and higlhight it (requires Noteflight premium to add colors).\",\r\n            \"Avoid requiring overly specific answers. This could be something like requiring full sentences for text answers, or precise rhythms that require an exact sequence of notes and rests.\",\r\n            \"Avoid ambiguous questions. Make sure there is a single answer to the questions you ask.\",\r\n            \"Keep assignments simple, and focus on just one or two things. If an assingment has too many elements in it, it can be challenging for users to remember everything they are supposed to enter.\",\r\n            \"Always do your own assignments after you make them to ensure they can be completed as you designed.\"\r\n        ]),\r\n        paragraph(\"Example assignments can be found at the links below:\"),\r\n        link(\"Name the Note\", \"https://bit.ly/2XyFt8J\"),\r\n        link(\"Writing Major Scales\", \"https://bit.ly/2GWV1hs\"),\r\n        link(\"Simple Melodic Dictation\", \"https://bit.ly/2EwLQkq\"),\r\n\r\n        \r\n        \r\n    ]\r\n\r\n}\r\n\r\nexport default instructorContent;","import React, {Component} from 'react';\r\nimport TutorialContainer from './TutorialContainer';\r\n\r\nimport studentContent from './content/studentContent'\r\nimport instructorContent from './content/instructorContent'\r\n\r\nclass InfoContainer extends Component {\r\n\r\n\r\n    render(){\r\n        const domainName = window.location.origin.split(\"//\")[1]\r\n        return(\r\n            <div>\r\n                <section className=\"text-box\">                        \r\n                    <h1 className=\"information-heading\">{domainName}</h1>\r\n                    <p className=\"information-paragraph\"><em>Created and maintained by <a href=\"http://quinndizon.com\" target=\"_blank\">Quinn Dizon</a></em></p>\r\n                    <h2 className=\"information-heading\"><em>NOTE: This software is still in development. Any use at this stage carries no expressed or implied guarantee of full functionality</em></h2>\r\n                    <p>\r\n                        {\r\n                            \r\n                            `Welcome to ${domainName} , a tool that allows music teachers to easily create and link to high quality, interactive, self-grading music assignments. \r\n                            Whether you are a teacher or a student, there is no signup required, and it is absolutely free to use.\r\n                            `\r\n\r\n                        }\r\n                    </p>\r\n                    <p>\r\n                        {\r\n                            `\r\n                            This application is built using the Noteflight notation interface. If you are unfamiliar with their product, I highly recommend that you visit their site to learn more about the wonderful features Noteflight provides.\r\n                            `\r\n                        }\r\n                    </p>\r\n                    <a href=\"https://www.noteflight.com\" target=\"_blank\"><p>Noteflight.com</p></a>\r\n                    <p>\r\n                        Click the appropriate category below for more information and tutorials on how to use this site.\r\n                    </p>\r\n                </section>\r\n                <TutorialContainer content={studentContent}/>\r\n                <TutorialContainer content={instructorContent}/>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default InfoContainer;","import React, {Component} from 'react';\r\n\r\nimport cryptr from '../js/encryption';\r\n\r\nclass DisplayDecryptedToken extends Component {\r\n\r\n    decryptToken(token){\r\n        try{\r\n            cryptr.decrypt(token)\r\n        } catch(error){\r\n            return null\r\n        }\r\n        return cryptr.decrypt(token)\r\n    }\r\n\r\n    parseDate(date){\r\n        const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\r\n        date = new Date(date)\r\n        return `${days[date.getDay()]}, ${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}, at ${date.getHours()}:${date.getMinutes()} `\r\n    }\r\n\r\n    render(){\r\n        let decrypted = JSON.parse(this.decryptToken(this.props.token))\r\n        return(\r\n            <div id='decrypted-token' className='section-box'>\r\n                {\r\n                    decrypted\r\n                    &&\r\n                    <div>\r\n                        <h2 className=\"section-heading\">Verified</h2>\r\n                        <h4>Name: {decrypted.studentName}</h4>\r\n                        <h4>Completed On: {this.parseDate(decrypted.date)}</h4>\r\n                        <a href={decrypted.answer} target=\"_blank\"><h4>View Answers</h4></a>\r\n                    </div>\r\n                }               \r\n\r\n                {\r\n                    !decrypted\r\n                    &&\r\n                    <h2 className=\"section-heading\">The token you have entered is invalid</h2>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DisplayDecryptedToken;","import React, {Component} from 'react';\r\nimport DisplayDecryptedToken from './DisplayDecryptedToken';\r\n\r\nclass TokenChecker extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentToken: null\r\n        }\r\n\r\n        this.setToken = this.setToken.bind(this);\r\n    }\r\n\r\n    setToken(currentToken){\r\n        this.setState({currentToken})\r\n    }\r\n\r\n    handleSubmit(setToken){\r\n        return (e) => {\r\n            e.preventDefault();\r\n            setToken(document.getElementById(\"encrypted-token\").value)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"token-checker\" className=\"text-box\">\r\n                <form id=\"token-input-form\" onSubmit={this.handleSubmit(this.setToken)}>\r\n                    <h2>Token Checker</h2>\r\n                    <p>Paste your token in the text box below. If a token is authentic, information will be displayed, including the user's signature, the date and time completed, and the answer template to the assignment.</p>\r\n                    <textarea id=\"encrypted-token\" style={{width: \"95%\", margin: \"0 auto\", minHeight: \"10em\"}}></textarea><br/>\r\n\r\n                    <input type=\"submit\" value=\"Verify Token\" />\r\n                </form>\r\n\r\n                {\r\n                    !!this.state.currentToken\r\n                    &&\r\n                    <DisplayDecryptedToken token={this.state.currentToken} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TokenChecker;","import React, { Component } from 'react';\n\n\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\n\n\nimport './App.css';\n\n\nimport './css/info.css'\nimport './css/input.css'\nimport './css/new-assignment.css'\nimport './css/media-queries.css'\nimport './css/assignment.css'\nimport './css/nav-banner.css'\n\n\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport Navigation from './Banner/Navigation';\nimport NewAssignmentContainer from './NewAssignments/NewAssignmentContainer';\nimport AssignmentContainer from './Assignment/AssignmentContainer';\nimport InfoContainer from './Information/InfoContainer';\nimport TokenChecker from './Token/TokenChecker';\n\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n\n    let assignment = new window.URLSearchParams(window.location.search).get(\"assignment\")\n    \n    this.state = {\n      path : \"/\",\n      assignment,\n    }\n\n    this.setPath = this.setPath.bind(this);\n  }\n\n  setPath(path){\n    this.setState({path});\n    this.forceUpdate();\n\n  }\n\n  render() {\n    const search = new window.URLSearchParams(window.location.search);\n    let path = window.location.href.split(\"/\")\n    path = path[path.length - 1];\n    console.log(\"LOCATION: \", window.location.href)\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <Navigation setPath={this.setPath} />\n          <div className=\"app-body\">\n\n          {\n            // if the user got here through an assignment link\n            // but they left the assignment page, provide a return link to the assignment\n            (this.state.assignment && !search.get(\"assignment\"))\n            &&\n            <a href={window.location.origin + \"?assignment=\" + this.state.assignment}>Return to Assignment</a>\n          }\n\n          {\n            (this.state.path === \"/\" && search.get(\"assignment\"))\n            &&\n            <AssignmentContainer />\n          }\n          \n          {\n            (this.state.path === \"/\" && !search.get(\"assignment\"))\n            &&\n            <Route path={\"/\"} exact component={InfoContainer} />\n          }\n          <Route path=\"/new\" exact component={NewAssignmentContainer} />\n          <Route path=\"/token-checker\" exact component={TokenChecker} />\n\n          \n\n          </div>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}